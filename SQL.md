CREATE DATABASE STE;

USE STE;

CREATE TABLE USUARIOS (
    ID INT(4) AUTO_INCREMENT,
    NOME VARCHAR(200) NOT NULL,
    EMAIL VARCHAR(50) NOT NULL,
    PASSWORD VARCHAR(200) NOT NULL,
    DTCADAST TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (ID)
);

CREATE TABLE DISCIPLINAS (
    ID INT(4) AUTO_INCREMENT,
    NOME VARCHAR(200) NOT NULL,
    PROF VARCHAR(200) NOT NULL,
    ID_USUARIO INT(4),
    PRIMARY KEY (ID),
    FOREIGN KEY (ID_USUARIO) REFERENCES USUARIOS(ID)
);

CREATE TABLE CATEGORIAS (
    ID INT(4) AUTO_INCREMENT,
    NOME VARCHAR(200) NOT NULL,
    ID_USUARIO INT(4),
    PRIMARY KEY (ID),
    FOREIGN KEY (ID_USUARIO) REFERENCES USUARIOS(ID)
);

CREATE TABLE TAREFAS (
    ID INT(4) AUTO_INCREMENT,
    TITULO VARCHAR(100) NOT NULL,
    DESCRI VARCHAR(1000) NOT NULL,
    DTCRIA TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    DTENTREGA DATE NOT NULL,
    ID_USUARIO INT(4),
    ID_DISCIPLINA INT(4),
    ID_CATEGORIA INT(4),
    PRIMARY KEY (ID),
    FOREIGN KEY (ID_USUARIO) REFERENCES USUARIOS(ID),
    FOREIGN KEY (ID_DISCIPLINA) REFERENCES DISCIPLINAS(ID),
    FOREIGN KEY (ID_CATEGORIA) REFERENCES CATEGORIAS(ID)
);
